Index: codex-rs/modcargo-crates/keyring-3.6.3/src/lib.rs
--- codex-rs/modcargo-crates/keyring-3.6.3/src/lib.rs.orig
+++ codex-rs/modcargo-crates/keyring-3.6.3/src/lib.rs
@@ -253,6 +253,24 @@ pub use keyutils_persistent as default;
 pub use keyutils_persistent as default;

+// OpenBSD with async-secret-service (persistent features dont apply to OpenBSD)
+#[cfg(all(
+    target_os = "openbsd",
+    any(feature = "sync-secret-service", feature = "async-secret-service"),
+))]
+pub use secret_service as default;
+
+// FreeBSD with async-secret-service and persistent features
+#[cfg(all(
+    target_os = "freebsd",
+    any(feature = "sync-secret-service", feature = "async-secret-service"),
+    any(
+        feature = "linux-native-sync-persistent",
+        feature = "linux-native-async-persistent",
+    ),
+))]
+pub use secret_service as default;
+
 // fallback to mock if neither keyutils nor secret service is available
 #[cfg(any(
     all(
